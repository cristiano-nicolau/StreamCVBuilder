<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name }} - CV</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: #f5f5f5;
            padding: 0;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        .sidebar {
            background: #2c5f8d;
            color: white;
            padding: 40px 30px;
        }
        .sidebar h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        .sidebar .role {
            font-size: 1em;
            margin-bottom: 30px;
            opacity: 0.9;
            font-weight: 300;
        }
        .sidebar-section {
            margin-bottom: 30px;
        }
        .sidebar-title {
            font-size: 1.1em;
            margin-bottom: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 8px;
        }
        .sidebar-content {
            font-size: 0.9em;
            line-height: 1.6;
            opacity: 0.95;
        }
        .sidebar-content div {
            margin-bottom: 8px;
        }
        .main-content {
            padding: 40px 50px;
        }
        .section {
            margin-bottom: 40px;
        }
        .section-title {
            font-size: 1.6em;
            color: #2c5f8d;
            margin-bottom: 20px;
            font-weight: 700;
            border-bottom: 3px solid #2c5f8d;
            padding-bottom: 10px;
        }
        .item {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        .item:last-child {
            border-bottom: none;
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }
        .item-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c5f8d;
        }
        .item-subtitle {
            color: #666;
            font-size: 1em;
            margin-top: 3px;
        }
        .item-date {
            color: #999;
            font-size: 0.9em;
            font-style: italic;
            white-space: nowrap;
        }
        .item-description {
            margin-top: 10px;
            color: #555;
            line-height: 1.7;
        }
        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        li {
            margin-bottom: 6px;
            color: #555;
            line-height: 1.6;
        }
        .skills-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .skills-list li {
            background: #f0f4f8;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 5px;
            border-left: 4px solid #2c5f8d;
        }
        .skill-label {
            font-weight: 700;
            color: #2c5f8d;
            margin-bottom: 5px;
        }
        .skill-details {
            color: #555;
            font-size: 0.95em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h1>{{ name }}</h1>
            {% if role %}<div class="role">{{ role }}</div>{% endif %}
            
            <div class="sidebar-section">
                <div class="sidebar-title">Contact</div>
                <div class="sidebar-content">
                    {% if email %}<div>{{ email }}</div>{% endif %}
                    {% if phone %}<div>{{ phone }}</div>{% endif %}
                    {% if location %}<div>{{ location }}</div>{% endif %}
                </div>
            </div>

            {% if sections.skills %}
            <div class="sidebar-section">
                <div class="sidebar-title">Skills</div>
                <div class="sidebar-content">
                    {% for skill in sections.skills %}
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; margin-bottom: 5px;">{{ skill.label }}</div>
                        <div style="font-size: 0.85em; opacity: 0.9;">{{ skill.details }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
        </div>

        <div class="main-content">
            {% if sections.aboutme %}
            <div class="section">
                <h2 class="section-title">About Me</h2>
                {% for paragraph in sections.aboutme %}
                    <p class="item-description">{{ paragraph }}</p>
                {% endfor %}
            </div>
            {% endif %}

            {% if sections.experience %}
            <div class="section">
                <h2 class="section-title">Professional Experience</h2>
                {% for exp in sections.experience %}
                <div class="item">
                    <div class="item-header">
                        <div>
                            <div class="item-title">{{ exp.position }}</div>
                            <div class="item-subtitle">{{ exp.company }}{% if exp.location %}, {{ exp.location }}{% endif %}</div>
                        </div>
                        <div class="item-date">{{ exp.start_date }} - {{ exp.end_date }}</div>
                    </div>
                    {% if exp.highlights %}
                    <ul>
                        {% for highlight in exp.highlights %}
                        <li>{{ highlight }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            {% if sections.education %}
            <div class="section">
                <h2 class="section-title">Education</h2>
                {% for edu in sections.education %}
                <div class="item">
                    <div class="item-header">
                        <div>
                            <div class="item-title">{{ edu.degree }} in {{ edu.area }}</div>
                            <div class="item-subtitle">{{ edu.institution }}{% if edu.location %}, {{ edu.location }}{% endif %}</div>
                        </div>
                        <div class="item-date">{{ edu.start_date }} - {{ edu.end_date }}</div>
                    </div>
                    {% if edu.grade %}<div class="item-description">Grade: {{ edu.grade }}</div>{% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            {% if sections.projects %}
            <div class="section">
                <h2 class="section-title">Projects</h2>
                {% for proj in sections.projects %}
                <div class="item">
                    <div class="item-header">
                        {% if proj.url %}
                        <div class="item-title"><a href="{{ proj.url }}" style="color: #2563eb; text-decoration: none; border-bottom: 2px solid #2563eb;">{{ proj.name }}</a></div>
                        {% else %}
                        <div class="item-title">{{ proj.name }}</div>
                        {% endif %}
                        {% if proj.start_date %}<div class="item-date">{{ proj.start_date }} - {{ proj.end_date }}</div>{% endif %}
                    </div>
                    {% if proj.summary %}<div class="item-description">{{ proj.summary }}</div>{% endif %}
                    {% if proj.highlights %}
                    <ul>
                        {% for highlight in proj.highlights %}
                        <li>{{ highlight }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            {% if sections.publications %}
            <div class="section">
                <h2 class="section-title">Publications</h2>
                {% for pub in sections.publications %}
                <div class="item">
                    <div class="item-title">{{ pub.title }}</div>
                    {% if pub.venue %}<div class="item-subtitle">{{ pub.venue }}{% if pub.date %}, {{ pub.date }}{% endif %}</div>{% endif %}
                    {% if pub.authors %}<div class="item-description">{{ pub.authors|join(', ') }}</div>{% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
